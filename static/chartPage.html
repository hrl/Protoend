<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title></title>

    <link type="text/css" rel="stylesheet" href="css/cssreset-min.css">
    <link type="text/css" rel="stylesheet" href="css/cssbase-min.css">
    <link type="text/css" rel="stylesheet" href="bootstrap-3.3.5-dist/css/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="css/app.css">
    <link type="text/css" rel="stylesheet" href="css/base.css">
</head>
<body ng-app="app">
    <div id="container" class="container" ng-controller="mainCtrl">


        <div id="panel">
            <button id="move">move</button>
            <button id="createTable">new Table</button>
            <button id="real_1-1" class="drawLink">link</button>
        </div>
        <div id="chart">
            <!--
            <div my-table sf-table="{{stables[0]}}"></div>
            -->
            <div id="canvas">
                <canvas id="realCanvas" class="aspect" height="1000" width="1000"></canvas>
                <div class="aspect" id="objAspect" ng-click="createTable($event)">
                    <div ng-repeat="i in tables" class="theTable" style="left:{{i.coor[0]}}px;top:{{i.coor[1]}}px;">
                        <!--浏览模式的表-->
                        <table ng-init="p_index=$index" ng-if="!document.editNum==$index" theIndex="{{$index}}">
                            <tr ng-repeat="j in i.columns" ng-click="pushLink(p_index, $index)">
                                <td><span>{{j.name}}</span></td>
                                <td>
                                    <span>{{j.type}}</span>
                                </td>
                                <td>
                                    <span ng-if="j.default">defalut:{{j.default}}</span>
                                </td>
                                <td>
                                    <span ng-if="j.unique">unique</span>
                                </td>
                                <td>
                                    <span ng-if="j.userInput==true">mustInput</span>
                                    <span ng-if="j.userInput==false">can'tInput</span>
                                </td>
                                <td>
                                    <span >{{j.display?'display':'cover'}}</span>
                                </td>
                            </tr>
                        </table>

                        <!--编辑模式的表-->
                        <table ng-init="p_index=$index" ng-if="document.editNum==$index">
                            <tr>
                                <td>name</td>
                                <td>type</td>

                                <td>relation</td>

                                <td>default</td>
                                <td>unique</td>
                                <td>userInput</td>
                                <td>display</td>
                            </tr>
                            <tr ng-repeat="j in i.columns">
                                <td><input ng-model="j.name"></td>
                                <td>
                                    <select ng-model="j.type">
                                        <option>Integer</option>
                                        <option>UnicodeText</option>
                                        <option>GUID</option>
                                        <option>PASSWORD</option>
                                    </select>
                                </td>
                                <td></td>
                                <td><input ng-model="j.default"></td>
                                <td>
                                    <select ng-model="j.unique" \
                                            ng-options="o.v as o.n for o in [{ n: 'false', v: false }, { n: 'true', v: true }]">
                                    </select>
                                </td>
                                <td>
                                    <select ng-model="j.userInput"
                                            ng-options="o.v as o.n for o in [{n:'true',v:true},{n:'false',v:false},{n:'null',v:null}]">
                                    </select>
                                </td>
                                <td>
                                    <select ng-model="j.display"
                                            ng-options="o.v as o.n for o in [{n:'true',v:true},{n:'false',v:false}]">
                                    </select>
                                </td>
                                <td>
                                    <button ng-click="delItem(p_index, $index)">×</button>
                                </td>
                            </tr>
                        </table>
                        <button ng-click="createItem($index)">+</button>

                    </div>
                </div>
            </div>
        </div>
    </div>




    <script src="js/vendor/angular.min.js"></script>
    <script src="js/vendor/jquery.min.js"></script>
    <script src="bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
    <script src="js/base.js"></script>
    <script src="js/ctrls/mainCtrl.js"></script>
    <script src="js/directive/mainDirec.js"></script>
    <script src="js/drag.js"></script>
    <script src="js/link.js"></script>
</body>
</html>